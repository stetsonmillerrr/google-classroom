<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hypothetical Payment Spam Demo</title>
</head>
<body>
  <button id="payButton">Trigger Hypothetical Payment Spam</button>

  <script>
    const payButton = document.getElementById('payButton');

    async function triggerPayment(id) {
      if (!window.PaymentRequest) {
        console.log(`Payment Request API not supported.`);
        return;
      }

      const methods = [{
        supportedMethods: 'basic-card',
        data: {
          supportedNetworks: ['visa', 'mastercard', 'amex'],
          supportedTypes: ['credit', 'debit']
        }
      }];

      const details = {
        total: { label: 'Total', amount: { currency: 'USD', value: '0.01' } }
      };

      try {
        const request = new PaymentRequest(methods, details);

        // Hypothetical popup
        console.log(`Hypothetical popup #${id} would open here.`);
        // In a real unsafe version, you'd call: await request.show();
      } catch (err) {
        console.error(err);
      }
    }

    payButton.addEventListener('click', async () => {
      // Hypothetical "spam loop"
      for (let i = 1; i <= 10; i++) {
        triggerPayment(i); // Conceptually opens multiple popups
      }
      console.log("Hypothetical spam loop executed. No real popups opened.");
    });
  </script>
</body>
</html>
