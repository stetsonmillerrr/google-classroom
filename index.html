<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Google Classroom Clone</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap" rel="stylesheet">
<style>
body { font-family: "Google Sans", Arial, sans-serif; }
@keyframes shimmer { 0% { background-position: -400px 0; } 100% { background-position: 400px 0; } }
.skeleton { position: relative; overflow: hidden; background-color: #e0e0e0; border-radius: 4px; }
.skeleton::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); animation: shimmer 4s infinite; }
#iframeOverlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; z-index: 1000; background: white; }
#iframeOverlay iframe { width:100%; height:100%; border:none; }
#iframeToggleBtn { position: fixed; bottom: 20px; left: 20px; width: 40px; height: 40px; background: #1967d2; color: white; border-radius: 9999px; display: flex; align-items: center; justify-content: center; cursor: grab; z-index: 1100; font-size: 16px; user-select: none; }
#iframeToggleBtn:active { cursor: grabbing; }
</style>
</head>
<body class="bg-[#f8fafc] min-h-screen flex">

<aside class="flex flex-col w-64 bg-white border-r border-gray-200 relative z-10">
  <header class="flex items-center gap-2 px-4 py-3 border-b border-gray-200">
    <button aria-label="Menu" class="text-gray-700 text-xl"><i class="fas fa-bars"></i></button>
    <img alt="Google Classroom icon" class="w-5 h-5" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Google_Classroom_icon.svg/20px-Google_Classroom_icon.svg.png">
    <span class="text-gray-800 text-sm font-normal select-none">Classroom</span>
  </header>
  <nav class="flex flex-col mt-4 px-2 space-y-1">
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-[#d2e3fc] text-[#1967d2] text-sm font-medium select-none" href="#"><i class="fas fa-home text-sm"></i> Home</a>
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="far fa-calendar-alt text-sm"></i> Calendar</a>
    <button id="enrolledBtn" aria-expanded="false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none w-full" type="button">
      <i class="fas fa-graduation-cap text-sm"></i> Enrolled
      <i id="enrolledChevron" class="fas fa-chevron-down ml-auto text-xs transition-transform duration-200"></i>
    </button>
    <div id="enrolledList" class="flex flex-col pl-8 space-y-1 mt-1" style="display:none;">
      <a id="usHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">E</span> Szvy Central
      </a>
      <a id="englishLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">J</span> Julio's Games
      </a>
      <a id="scienceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#e0e0e0] text-[#4a4a4a] text-xs font-semibold">R</span> Radius
      </a>
      <a id="healthLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">G</span> gn-math
      </a>
      <a id="worldHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">B</span> Bolt
      </a>
      <a id="duckLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700] text-[#000] text-xs font-semibold">D</span> Duck
      </a>
      <a id="spaceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#aaffaa] text-[#000] text-xs font-semibold">S</span> Space
      </a>
    </div>
  </nav>
</aside>

<main class="flex-1 p-6 overflow-auto">
  <section aria-label="Classroom cards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]">
      <div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div>
      <hr class="border-gray-200 mb-3">
      <div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div>
    </article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
  </section>
</main>

<div id="iframeOverlay"><iframe src="" allowfullscreen allow="fullscreen"></iframe></div>
<div id="iframeToggleBtn" title="Show/Hide iframe">â‡…</div>

<script>
// Enrolled toggle
const enrolledBtn = document.getElementById("enrolledBtn");
const enrolledList = document.getElementById("enrolledList");
const enrolledChevron = document.getElementById("enrolledChevron");
enrolledBtn.addEventListener("click", () => {
  const expanded = enrolledBtn.getAttribute("aria-expanded")==="true";
  enrolledList.style.display = expanded ? "none" : "flex";
  enrolledBtn.setAttribute("aria-expanded", !expanded);
  enrolledChevron.style.transform = expanded ? "rotate(-90deg)" : "rotate(0deg)";
});

// Profile
const profileBtn = document.getElementById("profileBtn");
const profileLetter = document.getElementById("profileLetter");
const savedLetter = localStorage.getItem("profileLetter");
const savedColor = localStorage.getItem("profileColor");
if(savedLetter) profileLetter.textContent = savedLetter;
if(savedColor) profileBtn.style.backgroundColor = savedColor;

const iframeOverlay = document.getElementById("iframeOverlay");
const iframeEl = iframeOverlay.querySelector("iframe");

// Helper to open iframe + move to top + pointer lock
function openIframe(linkEl, url){
  iframeEl.src = url;
  iframeOverlay.style.display = "block";
  enrolledList.prepend(linkEl);
  localStorage.setItem("enrolledOrder", JSON.stringify(Array.from(enrolledList.children).map(a => a.id)));

  // Try pointer lock after a tiny timeout in response to click
  setTimeout(()=> {
    try { iframeOverlay.requestPointerLock(); } catch(e){}
  }, 50);
}

// Restore order
const savedOrder = JSON.parse(localStorage.getItem("enrolledOrder")||"[]");
if(savedOrder.length) savedOrder.forEach(id=>{ const el=document.getElementById(id); if(el) enrolledList.appendChild(el); });

// Link events
document.getElementById("usHistoryLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://edpuzzle.com.de/"));
document.getElementById("englishLink").addEventListener("click", e=>{ window.open("https://www.julios.games/home","_blank"); enrolledList.prepend(e.currentTarget); localStorage.setItem("enrolledOrder", JSON.stringify(Array.from(enrolledList.children).map(a=>a.id))); });
document.getElementById("scienceLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://intrinsic.observer/"));
document.getElementById("healthLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://gn-math.github.io/"));
document.getElementById("worldHistoryLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://wfdxcajxzt.lawsonengineers.co.uk/"));
document.getElementById("duckLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://duck.quackprep.com/"));
document.getElementById("spaceLink").addEventListener("click", e=>openIframe(e.currentTarget,"https://googleslides.global.ssl.fastly.net/a"));

// ESC closes iframe + exit pointer lock
document.addEventListener("keydown", e=>{
  if(e.key==="Escape"){
    iframeOverlay.style.display="none";
    iframeEl.src="";
    if(document.pointerLockElement) document.exitPointerLock();
  }
});

// Draggable toggle
const toggleBtn = document.getElementById("iframeToggleBtn");
let isDragging=false, offsetX, offsetY;
toggleBtn.addEventListener("mousedown", e=>{ isDragging=true; offsetX=e.clientX-toggleBtn.offsetLeft; offsetY=e.clientY-toggleBtn.offsetTop; e.preventDefault(); });
document.addEventListener("mouseup", ()=> isDragging=false);
document.addEventListener("mousemove", e=>{ if(isDragging){ toggleBtn.style.left = `${e.clientX-offsetX}px`; toggleBtn.style.top = `${e.clientY-offsetY}px`; } });
toggleBtn.addEventListener("click", ()=>{ if(iframeOverlay.style.display==="block"){ iframeOverlay.style.display="none"; iframeEl.src=""; if(document.pointerLockElement) document.exitPointerLock(); } else if(iframeEl.src){ iframeOverlay.style.display="block"; } });
</script>
</body>
</html>
