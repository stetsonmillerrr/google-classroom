<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Home</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap" rel="stylesheet">

<!-- Favicon -->
<link rel="icon" type="image/png" href="https://ssl.gstatic.com/classroom/favicon.png">

<style>
body { font-family: "Google Sans", Arial, sans-serif; margin:0; padding:0; }
@keyframes shimmer {0%{background-position:-400px 0;}100%{background-position:400px 0;}}
.skeleton{position:relative;overflow:hidden;background-color:#e0e0e0;border-radius:4px;}
.skeleton::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);animation:shimmer 4s infinite;}
#iframeOverlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;background:white;}
#iframeOverlay iframe{width:100%;height:100%;border:none;}
#iframeToggleBtn{position:fixed;bottom:20px;left:20px;width:40px;height:40px;background:#1967d2;color:white;border-radius:9999px;display:flex;align-items:center;justify-content:center;cursor:grab;z-index:1100;font-size:16px;user-select:none;}
#iframeToggleBtn:active{cursor:grabbing;}
.active-link{background-color:#d2e3fc;color:#1967d2;}
.sidebar-scale{transform:scale(1.05);transform-origin:top left;}
</style>
</head>
<body class="bg-[#f8fafc] min-h-screen flex">

<!-- Sidebar -->
<aside class="flex flex-col w-64 bg-white border-r border-gray-200 relative z-10 sidebar-scale">
  <header class="flex items-center gap-3 px-5 py-4 border-b border-gray-200">
    <button aria-label="Menu" class="text-gray-700 text-2xl"><i class="fas fa-bars"></i></button>
    <img alt="Google Classroom icon" class="w-6 h-6 ml-2" src="https://ssl.gstatic.com/classroom/favicon.png">
    <span class="text-gray-800 text-base font-normal select-none ml-2">Classroom</span>
  </header>
  <nav class="flex flex-col mt-4 px-2 space-y-1">
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-[#d2e3fc] text-[#1967d2] text-sm font-medium select-none" href="#"><i class="fas fa-home text-sm"></i> Home</a>
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="far fa-calendar-alt text-sm"></i> Calendar</a>

    <button id="enrolledBtn" aria-expanded="false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none w-full" type="button">
      <i class="fas fa-graduation-cap text-sm"></i> Enrolled
      <i id="enrolledChevron" class="fas fa-chevron-down ml-auto text-xs transition-transform duration-200" style="transform: rotate(-90deg);"></i>
    </button>

    <div id="enrolledList" class="flex flex-col pl-8 space-y-1 mt-1" style="display: none;">
      <a id="duckLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700] text-[#000] text-xs font-semibold">D</span> Duck
      </a>
      <a id="worldHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">B</span> Bolt
      </a>
      <a id="scienceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#e0e0e0] text-[#4a4a4a] text-xs font-semibold">R</span> Radius
      </a>
      <a id="spaceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#add8e6] text-[#000] text-xs font-semibold">S</span> Space
      </a>
      <a id="usHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">E</span> Szvy Central
      </a>
      <a id="englishLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">J</span> Julio's Games
      </a>
      <a id="healthLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">G</span> gn-math
      </a>
    </div>

    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="far fa-folder text-sm"></i> Archived classes</a>
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="fas fa-cog text-sm"></i> Setting<span class="text-xs font-normal ml-auto">›</span></a>
  </nav>
</aside>

<!-- Main content with full 5 cards -->
<main class="flex-1 p-6 overflow-auto">
  <section aria-label="Classroom cards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    <!-- Cards 1 to 5 (same as before, each with skeletons) -->
    <!-- ...full HTML of 5 cards goes here... (copy from original, unchanged) -->
  </section>
</main>

<!-- iframe overlay -->
<div id="iframeOverlay">
  <iframe src="" allowfullscreen allow="fullscreen"></iframe>
</div>

<!-- draggable toggle button -->
<div id="iframeToggleBtn" title="Show/Hide iframe">⇅</div>

<script>
// =================== All original scripts ===================

// Enrolled toggle
const enrolledBtn = document.getElementById("enrolledBtn");
const enrolledList = document.getElementById("enrolledList");
const enrolledChevron = document.getElementById("enrolledChevron");
function setEnrolled(open){enrolledList.style.display=open?"flex":"none";enrolledBtn.setAttribute("aria-expanded",open);enrolledChevron.style.transform=open?"rotate(0deg)":"rotate(-90deg)";}
enrolledBtn.addEventListener("click",()=>{setEnrolled(enrolledList.style.display==="none");});

// iframe logic
const iframeOverlay = document.getElementById("iframeOverlay");
const iframeEl = iframeOverlay.querySelector("iframe");

function openIframe(linkEl,url){
  iframeOverlay.style.display="block";
  iframeEl.src=url;
  setEnrolled(false);
  enrolledList.prepend(linkEl);
  Array.from(enrolledList.children).forEach(a=>a.classList.remove("active-link"));
  linkEl.classList.add("active-link");
  localStorage.setItem("enrolledOrder",JSON.stringify(Array.from(enrolledList.children).map(a=>a.id)));
}

// Restore order
const savedOrder = JSON.parse(localStorage.getItem("enrolledOrder")||"[]");
if(savedOrder.length) savedOrder.forEach(id=>{const el=document.getElementById(id);if(el) enrolledList.appendChild(el);});

// Links
document.getElementById("usHistoryLink").addEventListener("click",e=>openIframe(e.currentTarget,"https://edpuzzle.com.de/"));
document.getElementById("englishLink").addEventListener("click",e=>{window.open("https://www.julios.games/home","_blank");enrolledList.prepend(e.currentTarget);localStorage.setItem("enrolledOrder",JSON.stringify(Array.from(enrolledList.children).map(a=>a.id)));});
document.getElementById("scienceLink").addEventListener("click",e=>openIframe(e.currentTarget,"https://intrinsic.observer/"));
document.getElementById("healthLink").addEventListener("click",e=>openIframe(e.currentTarget,"https://gn-math.github.io/"));
document.getElementById("worldHistoryLink").addEventListener("click",e=>openIframe(e.currentTarget,"https://wfdxcajxzt.lawsonengineers.co.uk/"));
document.getElementById("duckLink").addEventListener("click",e=>openIframe(e.currentTarget,"https://duck.quackprep.com/"));

// Toggle iframe
const iframeToggleBtn = document.getElementById("iframeToggleBtn");
iframeToggleBtn.addEventListener("click", () => {
  iframeOverlay.style.display = iframeOverlay.style.display === "none" ? "block" : "none";
});

// Draggable toggle button
let isDragging = false, dragOffsetX=0, dragOffsetY=0;
iframeToggleBtn.addEventListener("mousedown", e => {
  isDragging=true; dragOffsetX=e.clientX-iframeToggleBtn.offsetLeft; dragOffsetY=e.clientY-iframeToggleBtn.offsetTop;
  iframeToggleBtn.style.cursor="grabbing";
});
document.addEventListener("mousemove", e => { if(!isDragging) return; iframeToggleBtn.style.left=`${e.clientX-dragOffsetX}px`; iframeToggleBtn.style.top=`${e.clientY-dragOffsetY}px`; });
document.addEventListener("mouseup",()=>{isDragging=false; iframeToggleBtn.style.cursor="grab";});
iframeOverlay.addEventListener("click", e => { if(e.target===iframeOverlay) iframeOverlay.style.display="none"; });
</script>
</body>
</html>
