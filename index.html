<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Google Classroom Clone Loading Cards</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap" rel="stylesheet">
<style>
body { font-family: "Google Sans", Arial, sans-serif; zoom: 1.15; }

/* shimmer animation */
@keyframes shimmer {
  0% { background-position: -400px 0; }
  100% { background-position: 400px 0; }
}

/* skeleton base style */
.skeleton {
  position: relative;
  overflow: hidden;
  background-color: #e0e0e0;
  border-radius: 4px;
}

/* shimmer overlay */
.skeleton::after {
  content: '';
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: shimmer 4s infinite;
}

/* iframe overlay */
#iframeOverlay {
  display: none;
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  z-index: 1000;
  background: white;
  cursor: none;
}
#iframeOverlay iframe {
  width:100%;
  height:100%;
  border: none;
}

/* draggable toggle button */
#iframeToggleBtn {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 40px;
  height: 40px;
  background: #1967d2;
  color: white;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  z-index: 1100;
  font-size: 16px;
  user-select: none;
}
#iframeToggleBtn:active { cursor: grabbing; }
</style>
</head>
<body class="bg-[#f8fafc] min-h-screen flex">

<!-- Sidebar -->
<aside class="flex flex-col w-64 bg-white border-r border-gray-200 relative z-10">
  <header class="flex items-center gap-2 px-4 py-3 border-b border-gray-200">
    <button aria-label="Menu" class="text-gray-700 text-xl"><i class="fas fa-bars"></i></button>
    <img alt="Google Classroom icon" class="w-5 h-5"
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Google_Classroom_icon.svg/20px-Google_Classroom_icon.svg.png">
    <span class="text-gray-800 text-sm font-normal select-none">Classroom</span>
  </header>
  <nav class="flex flex-col mt-4 px-2 space-y-1">
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-[#d2e3fc] text-[#1967d2] text-sm font-medium select-none" href="#"><i class="fas fa-home text-sm"></i> Home</a>
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="far fa-calendar-alt text-sm"></i> Calendar</a>

    <!-- Enrolled button with toggle -->
    <button id="enrolledBtn" aria-expanded="false"
      class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none w-full" type="button">
      <i class="fas fa-graduation-cap text-sm"></i> Enrolled
      <i id="enrolledChevron" class="fas fa-chevron-down ml-auto text-xs transition-transform duration-200"></i>
    </button>

    <!-- Enrolled list, initially hidden -->
    <div id="enrolledList" class="flex flex-col pl-8 space-y-1 mt-1" style="display:none;">
      <a id="usHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">E</span>
        Szvy Central
      </a>
      <a id="englishLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">J</span>
        Julio's Games
      </a>
      <a id="scienceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#e0e0e0] text-[#4a4a4a] text-xs font-semibold">R</span>
        Radius
      </a>
      <a id="healthLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#cce0ff] text-[#3a6ed8] text-xs font-semibold">G</span>
        gn-math
      </a>
      <a id="worldHistoryLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#f9d9c5] text-[#d18b5b] text-xs font-semibold">B</span>
        Bolt
      </a>
      <a id="duckLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700] text-[#000] text-xs font-semibold">D</span>
        Duck
      </a>
      <a id="spaceLink" class="flex items-center gap-3 text-gray-700 text-xs font-normal hover:bg-gray-100 rounded px-2 py-1 select-none cursor-pointer">
        <span class="flex items-center justify-center w-5 h-5 rounded-full bg-[#aaffaa] text-[#000] text-xs font-semibold">S</span>
        Space
      </a>
    </div>

    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="far fa-folder text-sm"></i> Archived classes</a>
    <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 text-sm font-normal hover:bg-gray-100 select-none" href="#"><i class="fas fa-cog text-sm"></i> Setting<span class="text-xs font-normal ml-auto">â€º</span></a>
  </nav>
</aside>

<!-- Main content -->
<main class="flex-1 p-6 overflow-auto">
  <header class="flex items-center justify-end gap-6 mb-6">
    <button aria-label="Create" class="flex items-center justify-center w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full transition-colors duration-200">
      <svg aria-hidden="true" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke-linecap="round" stroke-linejoin="round"></path></svg>
    </button>
    <button aria-label="Apps" class="text-gray-700 font-light hover:bg-gray-200 rounded-full w-8 h-8 flex items-center justify-center">
      <svg aria-hidden="true" class="w-4 h-4" fill="#5f6368" viewBox="0 0 24 24"><circle cx="4.5" cy="4.5" r="2.5"/><circle cx="12" cy="4.5" r="2.5"/><circle cx="19.5" cy="4.5" r="2.5"/><circle cx="4.5" cy="12" r="2.5"/><circle cx="12" cy="12" r="2.5"/><circle cx="19.5" cy="12" r="2.5"/><circle cx="4.5" cy="19.5" r="2.5"/><circle cx="12" cy="19.5" r="2.5"/><circle cx="19.5" cy="19.5" r="2.5"/></svg>
    </button>
    <button id="profileBtn" aria-label="User profile" class="w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold select-none cursor-pointer" title="Click to edit profile icon" style="background-color: #aabbcc;">
      <span id="profileLetter" class="text-sm leading-none">A</span>
    </button>
  </header>

  <!-- Classroom cards section -->
  <section aria-label="Classroom cards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    <!-- Five cards repeated (unchanged content) -->
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]">
      <div class="flex justify-between items-start mb-4">
        <div class="space-y-2 w-3/4">
          <div class="h-3 skeleton w-2/3"></div>
          <div class="h-3 skeleton w-1/2"></div>
        </div>
        <div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div>
      </div>
      <hr class="border-gray-200 mb-3">
      <div class="flex justify-between items-center text-gray-400 text-xs">
        <div class="flex gap-2">
          <input class="cursor-not-allowed" disabled type="checkbox">
          <input class="cursor-not-allowed" disabled type="checkbox">
        </div>
        <button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button>
      </div>
    </article>
    <!-- repeat 4 more cards similarly -->
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
    <article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"><div class="flex justify-between items-start mb-4"><div class="space-y-2 w-3/4"><div class="h-3 skeleton w-2/3"></div><div class="h-3 skeleton w-1/2"></div></div><div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div></div><hr class="border-gray-200 mb-3"><div class="flex justify-between items-center text-gray-400 text-xs"><div class="flex gap-2"><input class="cursor-not-allowed" disabled type="checkbox"><input class="cursor-not-allowed" disabled type="checkbox"></div><button class="text-gray-400 hover:text-gray-600"><i class="fas fa-ellipsis-v"></i></button></div></article>
  </section>
</main>

<!-- iframe overlay -->
<div id="iframeOverlay">
  <iframe src="" allowfullscreen allow="fullscreen"></iframe>
</div>

<!-- draggable toggle button -->
<div id="iframeToggleBtn" title="Show/Hide iframe">â‡…</div>

<script>
// Enrolled toggle
const enrolledBtn = document.getElementById("enrolledBtn");
const enrolledList = document.getElementById("enrolledList");
const enrolledChevron = document.getElementById("enrolledChevron");

enrolledBtn.addEventListener("click", () => {
  const isExpanded = enrolledBtn.getAttribute("aria-expanded")==="true";
  if(isExpanded){
    enrolledList.style.display="none";
    enrolledBtn.setAttribute("aria-expanded","false");
    enrolledChevron.style.transform="rotate(-90deg)";
  } else {
    enrolledList.style.display="flex";
    enrolledBtn.setAttribute("aria-expanded","true");
    enrolledChevron.style.transform="rotate(0deg)";
  }
});

// Profile Icon logic
const profileBtn = document.getElementById("profileBtn");
const profileLetter = document.getElementById("profileLetter");
const savedLetter = localStorage.getItem("profileLetter");
const savedColor = localStorage.getItem("profileColor");
if(savedLetter) profileLetter.textContent = savedLetter;
if(savedColor) profileBtn.style.backgroundColor = savedColor;

// iframe logic
const iframeOverlay = document.getElementById("iframeOverlay");
const iframeEl = iframeOverlay.querySelector("iframe");

// Helper: open iframe and move clicked link to top
function openIframe(linkEl, url){
  iframeOverlay.style.display="block";
  iframeEl.src = url;

  // Move clicked element to top
  enrolledList.prepend(linkEl);

  // Save order to localStorage
  const ids = Array.from(enrolledList.children).map(a => a.id);
  localStorage.setItem("enrolledOrder", JSON.stringify(ids));
}

// Restore order from localStorage
const savedOrder = JSON.parse(localStorage.getItem("enrolledOrder") || "[]");
if(savedOrder.length){
  savedOrder.forEach(id=>{
    const el = document.getElementById(id);
    if(el) enrolledList.appendChild(el);
  });
}

// US History
document.getElementById("usHistoryLink").addEventListener("click", e => openIframe(e.currentTarget, "https://edpuzzle.com.de/"));
// English â†’ new tab
document.getElementById("englishLink").addEventListener("click", e => {
  window.open("https://www.julios.games/home", "_blank");
  enrolledList.prepend(e.currentTarget);
  localStorage.setItem("enrolledOrder", JSON.stringify(Array.from(enrolledList.children).map(a=>a.id)));
});
// Science
document.getElementById("scienceLink").addEventListener("click", e => openIframe(e.currentTarget, "https://intrinsic.observer/"));
// Health
document.getElementById("healthLink").addEventListener("click", e => openIframe(e.currentTarget, "https://gn-math.github.io/"));
// World History
document.getElementById("worldHistoryLink").addEventListener("click", e => openIframe(e.currentTarget, "https://wfdxcajxzt.lawsonengineers.co.uk/"));
// Duck
document.getElementById("duckLink").addEventListener("click", e => openIframe(e.currentTarget, "https://duck.quackprep.com/"));
// Space
document.getElementById("spaceLink").addEventListener("click", e => openIframe(e.currentTarget, "https://googleslides.global.ssl.fastly.net/a"));

// ESC closes iframe and releases pointer lock
document.addEventListener("keydown", e=>{
  if(e.key==="Escape"){
    iframeOverlay.style.display="none";
    iframeEl.src="";
    if(document.pointerLockElement) document.exitPointerLock();
  }
});

// Clicking iframe overlay locks pointer
iframeOverlay.addEventListener("click", () => {
  if (iframeOverlay.style.display === "block" && !document.pointerLockElement) {
    iframeOverlay.requestPointerLock();
  }
});

// Draggable toggle button
const toggleBtn = document.getElementById("iframeToggleBtn");
let isDragging = false;
let offsetX, offsetY;

toggleBtn.addEventListener("mousedown", e=>{
  isDragging = true;
  offsetX = e.clientX - toggleBtn.offsetLeft;
  offsetY = e.clientY - toggleBtn.offsetTop;
  e.preventDefault();
});
document.addEventListener("mouseup", ()=> isDragging = false);
document.addEventListener("mousemove", e=>{
  if(isDragging){
    toggleBtn.style.left = `${e.clientX - offsetX}px`;
    toggleBtn.style.top = `${e.clientY - offsetY}px`;
  }
});

// Toggle iframe visibility
toggleBtn.addEventListener("click", ()=>{
  if(iframeOverlay.style.display === "block"){
    iframeOverlay.style.display = "none";
    if(document.pointerLockElement) document.exitPointerLock();
  } else if(iframeEl.src){
    iframeOverlay.style.display = "block";
  }
});
</script>
</body>
</html>
