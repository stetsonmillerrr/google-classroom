function typeAndEraseURL(text, typeSpeed = 677, pause = 3000) { let index = 0; function type() { if (index <= text.length) { window.history.replaceState(null, null, `/${text.substring(0, index)}`); index++; setTimeout(type, typeSpeed); } else { setTimeout(erase, pause); // pause before erasing } } function erase() { if (index >= 0) { window.history.replaceState(null, null, `/${text.substring(0, index)}`); index--; setTimeout(erase, typeSpeed / 2.0); // slightly faster erase } } type(); } window.onload = function() { // Show normal URL first window.history.replaceState(null, null, '/'); // Start typing after short delay setTimeout(() => { typeAndEraseURL('.google.com', 90, 1000); }, 300); // slightly shorter delay }; 

 for(let i=0;i<5;i++){ document.write(`<article class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex flex-col justify-between min-h-[180px]"> <div class="flex justify-between items-start mb-4"> <div class="space-y-2 w-3/4"> <div class="h-3 skeleton w-2/3"></div> <div class="h-3 skeleton w-1/2"></div> </div> <div class="rounded-full bg-gray-200 w-12 h-12 flex-shrink-0"></div> </div> <hr class="border-gray-200 mb-3"> <!-- votes section removed --> </article>`); } 

 const enrolledBtn=document.getElementById("enrolledBtn"); const enrolledList=document.getElementById("enrolledList"); const enrolledChevron=document.getElementById("enrolledChevron"); const iframeOverlay=document.getElementById("iframeOverlay"); const iframeEl=iframeOverlay.querySelector("iframe"); const iframeToggleBtn=document.getElementById("iframeToggleBtn"); const profileBtn=document.getElementById("profileBtn"); const profileLetter=document.getElementById("profileLetter"); // Select the "+" button at the top const createBtn = document.querySelector('button[aria-label="Create"]'); // Toggle Minnit chat iframe function toggleMinnitIframe() { if (iframeOverlay.style.display === "block" && iframeEl.src.includes("minnit.chat")) { // Just hide (don't unload) iframeOverlay.style.display = "none"; } else { // Show Minnit chat iframeOverlay.style.display = "block"; iframeEl.src = "https://organizations.minnit.chat/878547462864938/c/Main?embed&transparent"; iframeToggleBtn.style.display = "none"; // hide the ⇅ for this iframe setEnrolled(false); document.querySelectorAll(".enrolled-item").forEach(l => l.classList.remove("active-link")); } } // Attach to "+" createBtn.addEventListener("click", toggleMinnitIframe); const supabase = window.supabase.createClient( 'https://ylbeucokkfotgghbveuv.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsYmV1Y29ra2ZvdGdnaGJ2ZXV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0MjU5MjksImV4cCI6MjA2MDAwMTkyOX0.EM52Z8YVA4xuCnNPLrAuweJq652QAPa3AjxjNRIrxE8' ); const userId = localStorage.getItem('userId') || ('user_' + Math.random().toString(36).substr(2,9)); localStorage.setItem('userId', userId); // Toggle enrolled function setEnrolled(open){ enrolledList.style.display=open?"flex":"none"; enrolledBtn.setAttribute("aria-expanded",open); enrolledChevron.style.transform=open?"rotate(0deg)":"rotate(-90deg)"; } enrolledBtn.addEventListener("click",()=>{setEnrolled(enrolledList.style.display==="none");}); // Profile persistence const savedLetter=localStorage.getItem("profileLetter"); const savedColor=localStorage.getItem("profileColor"); if(savedLetter) profileLetter.textContent=savedLetter; if(savedColor) profileBtn.style.backgroundColor=savedColor; // Category expand/collapse document.querySelectorAll('.category-header').forEach(h=>{ const list=h.nextElementSibling; const icon=h.querySelector('i'); icon.style.transform="rotate(-90deg)"; h.addEventListener('click',()=>{ const open=list.classList.toggle('open'); icon.style.transform=open?"rotate(0deg)":"rotate(-90deg)"; }); }); // Iframe open function openIframe(linkEl,url){ iframeOverlay.style.display="block"; iframeEl.src=url; iframeToggleBtn.style.display="flex"; setEnrolled(false); document.querySelectorAll(".enrolled-item").forEach(l=>l.classList.remove("active-link")); linkEl.classList.add("active-link"); } // Smart favicon function hashColor(str){let h=0;for(let i=0;i<str.length;i++)h=str.charCodeAt(i)+((h<<5)-h);const colors=["#ffd700","#f9d9c5","#e0e0e0","#add8e6","#cce0ff","#ffcce0","#d2e3fc"];return colors[Math.abs(h)%colors.length];} async function smartFavicon(url,link){ let domain; try{domain=new URL(url).origin;}catch{ return;} const img=document.createElement("img"); img.className="favicon-img"; img.alt="favicon"; const trySources=[`https://www.google.com/s2/favicons?domain=${domain}&sz=32`, `${domain}/favicon.ico`]; try { const resp=await fetch(url,{mode:"cors"}); const html=await resp.text(); const parser=new DOMParser(); const doc=parser.parseFromString(html,"text/html"); const icons=[...doc.querySelectorAll("link[rel*='icon']")]; if(icons.length){ const href=icons[0].getAttribute("href"); if(href){const abs=new URL(href,domain).href;trySources.unshift(abs);} } } catch(e){} let i=0; function tryNext(){ if(i>=trySources.length){ const fallback=document.createElement("span"); fallback.textContent=new URL(url).hostname.charAt(0).toUpperCase(); fallback.className="favicon-letter"; fallback.style.backgroundColor=hashColor(url); link.querySelector("img, span")?.remove(); link.prepend(fallback); return; } img.src=trySources[i++]; } img.onload=()=>{if(img.naturalWidth<16) tryNext(); else{link.querySelector("img, span")?.remove(); link.prepend(img);}}; img.onerror=tryNext; tryNext(); } // Load enrolled links and restore order after all items exist async function loadEnrolledItems() { const links = document.querySelectorAll(".enrolled-item"); for (const link of links) { const url = link.dataset.url; link.textContent = " " + (new URL(url).hostname.replace(/^www\./, "")); await smartFavicon(url, link); if (url.includes("julios.games")) { if (!link.querySelector("i")) { const icon = document.createElement("i"); icon.className = "fas fa-external-link-alt ml-auto text-xs"; link.append(icon); } } link.addEventListener("click", e => { e.preventDefault(); const categoryList = link.parentElement; // Move clicked link to the top categoryList.prepend(link); // Save new order in localStorage const ids = Array.from(categoryList.querySelectorAll(".enrolled-item")).map(l => l.id); localStorage.setItem(`order_${categoryList.parentElement.querySelector(".category-header").textContent}`, JSON.stringify(ids)); if (url.includes("julios.games")) { window.open(url, "_blank"); } else { openIframe(link, url); } }); } // Restore saved order AFTER all links are populated document.querySelectorAll(".category").forEach(cat => { const header = cat.querySelector(".category-header").textContent; const list = cat.querySelector(".category-list"); const savedOrder = JSON.parse(localStorage.getItem(`order_${header}`) || "[]"); if (savedOrder.length) { savedOrder.forEach(id => { const el = list.querySelector(`#${id}`); if (el) list.appendChild(el); }); } }); } // Initialize enrolled links loadEnrolledItems(); // Toggle iframe iframeToggleBtn.addEventListener("click",()=>{iframeOverlay.style.display=iframeOverlay.style.display==="none"?"block":"none";}); // Draggable iframe let isDragging=false,dx=0,dy=0; iframeToggleBtn.addEventListener("mousedown",e=>{isDragging=true;dx=e.clientX-iframeToggleBtn.offsetLeft;dy=e.clientY-iframeToggleBtn.offsetTop;iframeToggleBtn.style.cursor="grabbing";}); document.addEventListener("mousemove",e=>{if(!isDragging)return;iframeToggleBtn.style.left=`${e.clientX-dx}px`;iframeToggleBtn.style.top=`${e.clientY-dy}px`;}); document.addEventListener("mouseup",()=>{isDragging=false;iframeToggleBtn.style.cursor="grab";}); // WIKI-LINKS FETCH (votes removed, everything else intact) const wikiModal = document.getElementById('wikiModal'); const wikiBox = document.getElementById('wikiBox'); const wikiOverlay = document.getElementById('wikiOverlay'); const closeWiki = document.getElementById('closeWiki'); const archivedBtn = [...document.querySelectorAll("a")].find(el => el.textContent.includes("Archived classes")); let page = 0, pageSize = 5, currentFilter = { name: '', range: 'all' }, totalLinks = 0; archivedBtn.addEventListener('click', () => { wikiModal.classList.remove('hidden'); setTimeout(() => wikiBox.classList.add('scale-100', 'opacity-100'), 10); loadNames(); applyFilters(); }); closeWiki.addEventListener('click', closeModal); wikiOverlay.addEventListener('click', closeModal); function closeModal() { wikiBox.classList.remove('scale-100','opacity-0'); setTimeout(()=>wikiModal.classList.add('hidden'),200); } document.getElementById('filter-name').addEventListener('change', applyFilters); document.getElementById('filter-date').addEventListener('change', applyFilters); async function loadNames() { const { data } = await supabase.from('link_names').select('name'); const select = document.getElementById('filter-name'); select.innerHTML = `<option value="">All</option>`; data?.forEach(d => { const opt = document.createElement('option'); opt.value=d.name; opt.textContent=d.name; select.appendChild(opt); }); } function getDateRange(rangeType) { const now=new Date(), start=new Date(), end=new Date(); switch(rangeType){ case 'today': start.setHours(0,0,0,0); return {start,end:now}; case 'yesterday': start.setDate(start.getDate()-1); end.setDate(end.getDate()-1); start.setHours(0,0,0,0); end.setHours(23,59,59,999); return {start,end}; case 'last7': start.setDate(start.getDate()-6); return {start,end:now}; case 'thisMonth': start.setDate(1); return {start,end:now}; case 'lastMonth': start.setMonth(start.getMonth()-1); start.setDate(1); end.setMonth(start.getMonth()); end.setDate(0); end.setHours(23,59,59,999); return {start,end}; case 'thisYear': start.setMonth(0,1); start.setHours(0,0,0,0); return {start,end:now}; default: return null; } } async function applyFilters() { page=0; currentFilter.name=document.getElementById('filter-name').value; currentFilter.range=document.getElementById('filter-date').value; await countTotalLinks(); await fetchLinks(); } async function countTotalLinks() { let query = supabase.from('links').select('*', { count: 'exact', head: true }); if(currentFilter.name) query = query.eq('name', currentFilter.name); const range=getDateRange(currentFilter.range); if(range) query=query.gte('date', range.start.toISOString().split('T')[0]).lte('date', range.end.toISOString().split('T')[0]); const { count }=await query; totalLinks=count||0; } async function fetchLinks() { const container=document.getElementById('results'); container.innerHTML=''; let query=supabase.from('links').select('*').order('date',{ascending:false}).range(page*pageSize,(page+1)*pageSize-1); if(currentFilter.name) query=query.eq('name',currentFilter.name); const range=getDateRange(currentFilter.range); if(range) query=query.gte('date', range.start.toISOString().split('T')[0]).lte('date', range.end.toISOString().split('T')[0]); const { data }=await query; if(!data||data.length===0){container.innerHTML=`<div class="text-center text-gray-500 py-4">⚠️ No links found.</div>`;return;} for(const link of data){ const div=document.createElement('div'); div.className='p-3 rounded-xl border hover:bg-gray-50 flex flex-col gap-1'; div.innerHTML=` <a href="${link.url}" target="_blank" class="text-blue-600 hover:underline break-all font-medium">${link.name}</a> <span class="text-gray-500 text-xs break-all">${link.url}</span> <span class="text-gray-400 text-xs">${new Date(link.date).toLocaleDateString()}</span> `; container.appendChild(div); } } 

 // AUTH MODAL SCRIPT const authModal = document.getElementById('authModal'); const authOverlay = document.getElementById('authOverlay'); const closeAuthModal = document.getElementById('closeAuthModal'); const authTitle = document.getElementById('authTitle'); const authEmail = document.getElementById('authEmail'); const authPassword = document.getElementById('authPassword'); const authActionBtn = document.getElementById('authActionBtn'); const authMessage = document.getElementById('authMessage'); const toggleAuth = document.getElementById('toggleAuth'); let isLogin = true; // Toggle between login and signup function openAuthModal() { authModal.classList.remove('hidden'); setTimeout(() => authModal.querySelector('div.relative').classList.add('scale-100','opacity-100'), 10); } function closeAuth() { const modalContent = authModal.querySelector('div.relative'); modalContent.classList.remove('scale-100','opacity-0'); setTimeout(() => authModal.classList.add('hidden'), 200); authMessage.textContent = ''; authEmail.value = ''; authPassword.value = ''; } // Open modal on double-click profile button profileBtn.addEventListener('dblclick', openAuthModal); closeAuthModal.addEventListener('click', closeAuth); authOverlay.addEventListener('click', closeAuth); // Toggle Login / Sign-Up toggleAuth.addEventListener('click', () => { isLogin = !isLogin; if (isLogin) { authTitle.textContent = 'Login'; authActionBtn.textContent = 'Login'; toggleAuth.textContent = "Don't have an account? Sign Up"; } else { authTitle.textContent = 'Sign Up'; authActionBtn.textContent = 'Sign Up'; toggleAuth.textContent = "Already have an account? Login"; } authMessage.textContent = ''; }); // Handle Auth (Login / Sign-Up) authActionBtn.addEventListener('click', async () => { const email = authEmail.value.trim(); const password = authPassword.value.trim(); if (!email || !password) { authMessage.textContent = 'Please enter email and password'; return; } if (isLogin) { // LOGIN const { data: user, error } = await supabase.auth.signInWithPassword({ email, password }); if (error) authMessage.textContent = error.message; else { authMessage.textContent = 'Logged in successfully!'; closeAuth(); console.log('User:', user); } } else { // SIGN-UP const { data, error } = await supabase.auth.signUp({ email, password }); if (error) authMessage.textContent = error.message; else { authMessage.textContent = 'Account created! Please check your email to confirm.'; authEmail.value = ''; authPassword.value = ''; } } }); <script> const monitorStatusDiv = document.getElementById('monitor-status'); const monitorCustomInputDiv = document.getElementById('monitor-custom-id-input'); const monitorDebugLog = document.getElementById('monitor-debug-log'); let monitorCustomExtIds = []; let lastScreenCheck = 0; const screenCheckInterval = 60000; // 1 minute let clickCount = 0; let clickTimeout; let verboseLogging = false; // Toggle input (double click) or debug log (triple click) monitorStatusDiv.addEventListener('click', () => { clickCount++; if (clickCount === 2) { clearTimeout(clickTimeout); monitorCustomInputDiv.style.display = monitorCustomInputDiv.style.display === 'none' ? 'block' : 'none'; clickCount = 0; } else if (clickCount === 3) { clearTimeout(clickTimeout); verboseLogging = !verboseLogging; monitorDebugLog.style.display = verboseLogging ? 'block' : 'none'; monitorLog(`Verbose logging ${verboseLogging ? 'enabled' : 'disabled'}`, true); clickCount = 0; } else { clickTimeout = setTimeout(() => { clickCount = 0; }, 300); } }); function monitorLog(message, force = false) { if (!verboseLogging && !force) return; const timestamp = new Date().toLocaleTimeString(); monitorDebugLog.innerHTML += `[${timestamp}] ${message}<br>`; monitorDebugLog.scrollTop = monitorDebugLog.scrollHeight; } function monitorAddCustomId() { const id = document.getElementById('monitor-custom-ext-id').value.trim(); if (id) { monitorCustomExtIds.push(id); monitorLog(`Added custom extension ID: ${id}`, true); monitorCheck(); } } function monitorSetStatus(isWatching) { monitorStatusDiv.textContent = isWatching ? '🟢' : '🔴'; monitorStatusDiv.className = isWatching ? 'alert' : 'safe'; } async function monitorCheck() { let isMonitorDetected = false; const extensionIds = [ 'nmmhkkegccagdldgiimedpiccmgmieda', // GoGuardian 'pjjejpcmcgmgakpcbenpfilnkbpccgdm', // GoGuardian License 'haldlgldplgnggkjaafhelgiaglafanh', // Securly 'jiapfmfagmoafgbkaekfkgbndghfgmkn', // Lightspeed 'kmpjlilnemjciohjckjadmgmjdjljach', // LanSchool 'jmimcbpnibdeiakbligmlgbgbcglcjbc', // Impero ...monitorCustomExtIds ]; const monitorDomains = [ 'goguardian.com', 'api.goguardian.com', 'ext.goguardian.com', 'securly.com', 'api.securly.com', 'lightspeed.app', 'filter.lightspeedsystems.com', 'lanschool.com', 'impero.us', 'client.impero.io' ]; try { // Extension Probing for (const id of extensionIds) { if (chrome && chrome.runtime && chrome.runtime.sendMessage) { try { const response = await new Promise((resolve) => { chrome.runtime.sendMessage(id, {}, resolve); }); if (response !== undefined) { isMonitorDetected = true; monitorLog(`Extension detected: ${id}`, true); break; } } catch (e) { monitorLog(`Extension check failed for ${id}: ${e.message}`); } } } // Network Probes for (const domain of monitorDomains) { try { const response = await fetch(`https://${domain}`, { method: 'HEAD', mode: 'no-cors', cache: 'no-store' }); if (response) { isMonitorDetected = true; monitorLog(`Network activity to ${domain}`, true); break; } } catch (e) { monitorLog(`Network check failed for ${domain}: ${e.message}`); } } // WebDriver/Automation if (navigator.webdriver || window.document.documentElement.getAttribute('webdriver') || navigator.userAgent.includes('HeadlessChrome') || monitorDomains.some(domain => navigator.userAgent.includes(domain))) { isMonitorDetected = true; monitorLog('WebDriver or monitoring UA detected', true); } // Resource Monitoring if (performance && performance.memory && performance.memory.usedJSHeapSize > 150000000) { isMonitorDetected = true; monitorLog('High memory usage detected', true); } // WebSocket Interceptor const originalWebSocket = window.WebSocket; window.WebSocket = function(...args) { const wsUrl = args[0].toLowerCase(); if (monitorDomains.some(domain => wsUrl.includes(domain)) || wsUrl.includes('ggws')) { isMonitorDetected = true; monitorLog(`WebSocket to ${wsUrl}`, true); } return new originalWebSocket(...args); }; // DOM Mutation Observer const observer = new MutationObserver((mutations) => { for (const mutation of mutations) { if (mutation.addedNodes.length) { for (const node of mutation.addedNodes) { if ((node.src && monitorDomains.some(domain => node.src.includes(domain))) || (node.id && /gg-|monitor|securly|lightspeed|lanschool|impero/i.test(node.id)) || (node.className && /goguardian|monitor|securly|lightspeed|lanschool|impero/i.test(node.className))) { isMonitorDetected = true; monitorLog('Suspicious DOM element detected', true); break; } } } } }); observer.observe(document.body, { childList: true, subtree: true, attributes: true }); // PerformanceObserver for Network if ('PerformanceObserver' in window) { const netObserver = new PerformanceObserver((list) => { for (const entry of list.getEntries()) { if (monitorDomains.some(domain => entry.name.toLowerCase().includes(domain)) || entry.initiatorType === 'fetch' && /api\.gg|securly|lightspeed|impero/i.test(entry.name)) { isMonitorDetected = true; monitorLog(`Network resource detected: ${entry.name}`, true); } } }); netObserver.observe({ type: 'resource', buffered: true }); } // Enterprise Policy Check if (chrome && chrome.enterprise && chrome.enterprise.deviceAttributes) { isMonitorDetected = true; monitorLog('Enterprise policy detected', true); } // Screen Capture Detection (Throttled) if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia && Date.now() - lastScreenCheck > screenCheckInterval) { lastScreenCheck = Date.now(); try { await navigator.mediaDevices.getDisplayMedia({ video: true }); monitorLog('Screen sharing allowed unexpectedly'); } catch (err) { if (err.name === 'NotAllowedError' || err.message.includes('permission')) { isMonitorDetected = true; monitorLog('Screen sharing permission denied - monitoring likely', true); } else { monitorLog(`Screen sharing check failed: ${err.message}`); } } } // Prompt Suppression navigator.mediaDevices.getDisplayMedia = async function() { monitorLog('Intercepted screen-sharing request', true); throw new Error('NotAllowedError: User denied screen sharing'); }; } catch (e) { monitorLog(`Error in check: ${e.message}`); } monitorSetStatus(isMonitorDetected); } // Initial and Periodic Checks monitorCheck(); setInterval(monitorCheck, 5000); // Cleanup window.onunload = () => { if (observer) observer.disconnect(); if (netObserver) netObserver.disconnect(); };
